(this.webpackJsonpeflex_dashboard=this.webpackJsonpeflex_dashboard||[]).push([[0],{64:function(e,n,a){},94:function(e,n,a){},96:function(e,n,a){"use strict";a.r(n);var c=a(0),s=a.n(c),l=a(15),t=a.n(l),r=(a(64),a(32)),i=a.n(r),d=a(47),o=a(2),h=a(8),j=a(49),m=a.n(j),u=a(50),b=a(51),_=a(100),v=a(103),g=a(98),O=a(54),x=a(99),p=a(104),f=a(101),y=a(59),B=a(35),S=a.n(B);function I(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===typeof e&&Object.keys(e).forEach((function(c){var s=e[c];"object"!==typeof s?a[n?"".concat(n,".").concat(c):c]=s:a=I(s,n?"".concat(n,".").concat(c):c,a)})),a}var N=a(55),C=a(1);function R(e){var n=e.onSearch,a=Object(c.useState)(""),s=Object(h.a)(a,2),l=s[0],t=s[1];return Object(C.jsx)("div",{className:"border rounded p-2",children:Object(C.jsxs)(g.a,{className:"align-items-end",children:[Object(C.jsx)(O.a,{sm:12,lg:4,children:Object(C.jsx)(N.a,{className:"mb-1",placeholder:"Search by config key to filter",onChange:function(e){return t(e.target.value)},value:l})}),Object(C.jsxs)(O.a,{sm:12,lg:4,children:[Object(C.jsx)(x.a,{size:"sm",variant:"outline-primary",className:"mb-1",onClick:function(){return n(l)},children:"Search"}),Object(C.jsx)(x.a,{size:"sm",variant:"outline-secondary",className:"ms-2 mb-1",onClick:function(){return t(""),void n("")},children:"Reset"})]})]})})}var k=a(102);function T(e){var n=e.errorMsg;return n?Object(C.jsx)(k.a,{variant:"danger",className:"m-2",children:n}):null}a(94);var w=function(){var e=Object(c.useState)({}),n=Object(h.a)(e,2),a=n[0],s=n[1],l=Object(c.useState)({}),t=Object(h.a)(l,2),r=t[0],j=t[1],B=Object(c.useState)(["boxIdBin","boxIdText","analog_channels.0.id","analog_channels.0.name","analog_channels.0.volt","analog_channels.0.ampRating","analog_channels.1.id","analog_channels.1.name","analog_channels.1.volt","analog_channels.1.ampRating","analog_channels.2.id","analog_channels.2.name","analog_channels.2.volt","analog_channels.2.ampRating","analog_channels.3.id","analog_channels.3.name","analog_channels.3.volt","analog_channels.3.ampRating","analog_channels.4.id","analog_channels.4.name","analog_channels.4.volt","analog_channels.4.ampRating","analog_channels.5.id","analog_channels.5.name","analog_channels.5.volt","analog_channels.5.ampRating","analog_channels.6.id","analog_channels.6.name","analog_channels.6.volt","analog_channels.6.ampRating","analog_channels.7.id","analog_channels.7.name","analog_channels.7.volt","analog_channels.7.ampRating","load_channels.0.currentRating","load_channels.0.delayTime","load_channels.0.devices.0.name","load_channels.0.devices.0.phase","load_channels.0.devices.1.name","load_channels.0.devices.1.phase","load_channels.0.devices.2.name","load_channels.0.devices.2.phase","load_channels.1.currentRating","load_channels.1.delayTime","load_channels.1.devices.0.name","load_channels.1.devices.0.phase","load_channels.1.devices.1.name","load_channels.1.devices.1.phase","load_channels.1.devices.2.name","load_channels.1.devices.2.phase","load_channels.2.currentRating","load_channels.2.delayTime","load_channels.2.devices.0.name","load_channels.2.devices.0.phase","load_channels.2.devices.1.name","load_channels.2.devices.1.phase","load_channels.2.devices.2.name","load_channels.2.devices.2.phase","load_channels.3.name","load_channels.3.currentRating","load_channels.3.delayTime","load_channels.3.devices.0.name","load_channels.3.devices.0.phase","load_channels.3.devices.1.name","load_channels.3.devices.1.phase","load_channels.3.devices.2.name","load_channels.3.devices.2.phase","load_channels.4.delayTime","load_channels.4.devices.0.name","load_channels.4.devices.0.phase","load_channels.4.devices.1.name","load_channels.4.devices.1.phase","load_channels.4.devices.2.name","load_channels.4.devices.2.phase","load_channels.5.currentRating","load_channels.5.delayTime","load_channels.5.devices.0.name","load_channels.5.devices.0.phase","load_channels.5.devices.1.name","load_channels.5.devices.1.phase","load_channels.5.devices.2.name","load_channels.5.devices.2.phase","user_preferences.currency","user_preferences.lock_energy","user_preferences.time","user_preferences.energy_unit","key","name","at_home","selected_scheme","savings_selection","battery_saver_selection","tou_selection","demand_selection","currentLoadStatus","grid_type","energy_selection"]),N=Object(h.a)(B,2),k=N[0],w=(N[1],Object(c.useState)({})),A=Object(h.a)(w,2),U=A[0],E=A[1],F=Object(c.useState)(!1),L=Object(h.a)(F,2),z=L[0],H=L[1],J=Object(c.useState)(""),Q=Object(h.a)(J,2),M=Q[0],D=Q[1];function V(e,n){m.a.get("".concat("https://eflex-web-proxy.herokuapp.com","/api/BoxFiles/File?UserIdBin=").concat(e,"&BoxIdBin=").concat(n,"&filename=config.json")).then((function(e){return e.data})).then((function(e){!function(e){try{var n=JSON.parse(u.Buffer.from(e,"base64").toString("ascii"));s(Object(o.a)({},n));var a=I(Object(o.a)({},n)),c={};Object.keys(a).filter((function(e){return!k.includes(e)})).forEach((function(e){c[e]=a[e]})),j(Object(o.a)({},c))}catch(l){console.log("error",l),D(l.toString())}}(e)})).catch((function(e){return D(e.toString())}))}function q(e){if(e){var n=I(Object(o.a)({},a)),c={};Object.keys(n).filter((function(n){return n.startsWith(e)})).forEach((function(e){c[e]=n[e]})),E(Object(o.a)({},c)),H(!0)}else H(!1),E({})}function K(){var e=a.at_home;return"boolean"===typeof e?e?"Home":"Away":""}function P(){return Array.isArray(a.load_channels)?a.load_channels.reduce((function(e,n){return function(e){if(e){var n=e.years,a=e.months,c=e.date,s=e.hours,l=e.minutes,t=e.seconds,r=e.milliseconds;return!!(n&&a&&c&&s&&l&&t&&r)&&S()().utc().year(n).month(a).date(c).hour(s).minute(l).second(t).millisecond(r).isAfter(S()().utc())}return!1}(n.override?JSON.parse(n.override):null)&&e.push(n.name),e}),[]).join(","):""}return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(p.a,{bg:"dark",variant:"dark",children:Object(C.jsx)(f.a,{children:Object(C.jsx)(p.a.Brand,{children:"Eflex"})})}),Object(C.jsx)(T,{errorMsg:M}),Object(C.jsx)(f.a,{className:"mt-2",children:Object(C.jsxs)(g.a,{children:[Object(C.jsx)(O.a,{sm:{order:"last"},md:{span:6,order:"first"},children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"border rounded p-2 mb-2",children:Object(C.jsx)(y.a,{initialValues:{UserIdBin:"3rK2D4gvHAyn10CmYaKaCQ==",BoxIdBin:"EeuTzQQVrVCeIQJCCmQAAw=="},onSubmit:function(){var e=Object(d.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(n.UserIdBin,n.BoxIdBin);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){return Object(C.jsx)(v.a,{onSubmit:e.handleSubmit,children:Object(C.jsxs)(g.a,{className:"align-items-end",children:[Object(C.jsxs)(O.a,{sm:12,lg:4,children:[Object(C.jsx)(v.a.Label,{children:"UserIdBin"}),Object(C.jsx)(v.a.Control,{required:!0,type:"text",placeholder:"UserIdBin",name:"UserIdBin",className:"mb-1",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.UserIdBin})]}),Object(C.jsxs)(O.a,{sm:12,lg:4,children:[Object(C.jsx)(v.a.Label,{children:"BoxIdBin"}),Object(C.jsx)(v.a.Control,{required:!0,type:"text",placeholder:"BoxIdBin",name:"BoxIdBin",className:"mb-1",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.BoxIdBin})]}),Object(C.jsxs)(O.a,{sm:12,lg:4,children:[Object(C.jsx)(x.a,{size:"sm",type:"submit",className:"mb-1",children:"Submit"}),Object(C.jsx)(x.a,{size:"sm",className:"ms-2 mb-1",variant:"outline-secondary",onClick:e.handleReset,children:"Reset"})]})]})})}})}),Object(C.jsxs)("div",{className:"border rounded p-2",children:[Object(C.jsx)("h6",{children:" Result "}),Object(C.jsx)(R,{onSearch:q}),Object(C.jsx)("pre",{className:"config__viewer my-2",dangerouslySetInnerHTML:{__html:b.a.toHtml(z?U:r)}})]})]})}),Object(C.jsx)(O.a,{children:Object(C.jsxs)("div",{className:"rounded border p-2 mb-2",children:[Object(C.jsx)("h6",{children:" Summary "}),Object(C.jsx)(_.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Home / Away"}),Object(C.jsx)("td",{children:K()})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Energy Selection"}),Object(C.jsx)("td",{children:a.energy_selection})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Battery Saver Selection"}),Object(C.jsx)("td",{children:a.battery_saver_selection})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"TOU Selection"}),Object(C.jsx)("td",{children:a.tou_selection})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Demand Selection"}),Object(C.jsx)("td",{children:a.demand_selection})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Overriden Loads"}),Object(C.jsx)("td",{children:P()})]})]})})]})})]})})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(n){var a=n.getCLS,c=n.getFID,s=n.getFCP,l=n.getLCP,t=n.getTTFB;a(e),c(e),s(e),l(e),t(e)}))};a(95);t.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(w,{})}),document.getElementById("root")),A()}},[[96,1,2]]]);
//# sourceMappingURL=main.9cb2d76a.chunk.js.map